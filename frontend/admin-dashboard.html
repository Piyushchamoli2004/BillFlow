<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <title>Dashboard - BillFlow</title>
    <link rel="stylesheet" href="dashboard-styles.css">
    <link rel="stylesheet" href="notification-system.css">
</head>
<body>
    <!-- Top Navigation Bar -->
    <nav class="top-navbar">
        <div class="nav-left">
            <button class="menu-toggle" onclick="toggleSidebar()" aria-label="Toggle Menu">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="3" y1="12" x2="21" y2="12"/>
                    <line x1="3" y1="6" x2="21" y2="6"/>
                    <line x1="3" y1="18" x2="21" y2="18"/>
                </svg>
            </button>
            <div class="logo">
                <svg width="36" height="36" viewBox="0 0 36 36" fill="none">
                    <rect width="36" height="36" rx="10" fill="url(#logoGradient)"/>
                    <path d="M11 13h14M11 18h14M11 23h10" stroke="white" stroke-width="2.5" stroke-linecap="round"/>
                    <defs>
                        <linearGradient id="logoGradient" x1="0" y1="0" x2="36" y2="36">
                            <stop offset="0%" style="stop-color:#667eea"/>
                            <stop offset="100%" style="stop-color:#764ba2"/>
                        </linearGradient>
                    </defs>
                </svg>
                <span class="logo-text">BillFlow</span>
            </div>
        </div>
        
        <div class="nav-right">
            <div class="search-bar">
                <svg class="search-icon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                    <circle cx="9" cy="9" r="6" stroke="currentColor" stroke-width="1.5"/>
                    <path d="M13.5 13.5L17 17" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                </svg>
                <input type="text" placeholder="Search bills, tenants..." class="search-input">
            </div>
            
            <button class="notification-btn">
                <svg width="22" height="22" viewBox="0 0 22 22" fill="none">
                    <path d="M8 7C8 5.34315 9.34315 4 11 4C12.6569 4 14 5.34315 14 7C14 10 15 11 15 11H7C7 11 8 10 8 7Z" stroke="currentColor" stroke-width="1.5"/>
                    <path d="M9.5 14C9.5 14 9.5 15 11 15C12.5 15 12.5 14 12.5 14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                    <circle cx="15" cy="6" r="3" fill="#ff4757"/>
                </svg>
            </button>
            
            <div class="user-profile-container">
                <div class="user-profile" onclick="toggleUserDropdown()">
                    <div class="user-avatar">
                        <img src="data:image/svg+xml,%3Csvg width='40' height='40' xmlns='http://www.w3.org/2000/svg'%3E%3Ccircle cx='20' cy='20' r='20' fill='%23667eea'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='white' font-family='Arial' font-size='16' font-weight='bold'%3EA%3C/text%3E%3C/svg%3E" alt="Admin">
                    </div>
                    <div class="user-info">
                        <div class="user-name">Admin User</div>
                        <div class="user-role">Administrator</div>
                    </div>
                    <svg class="dropdown-icon" width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <path d="M4 6L8 10L12 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </div>
                
                <!-- User Dropdown Menu -->
                <div class="user-dropdown" id="userDropdown">
                    <div class="dropdown-header">
                        <div class="dropdown-header-name">Admin User</div>
                        <div class="dropdown-header-email">admin@billflow.com</div>
                    </div>
                    <div class="dropdown-menu">
                        <a href="settings.html#profile" class="dropdown-item">
                            <svg viewBox="0 0 20 20" fill="none">
                                <circle cx="10" cy="6" r="3" stroke="currentColor" stroke-width="1.5"/>
                                <path d="M4 16C4 13 6.5 11 10 11C13.5 11 16 13 16 16" stroke="currentColor" stroke-width="1.5"/>
                            </svg>
                            <span>My Profile</span>
                        </a>
                        <a href="settings.html#company" class="dropdown-item">
                            <svg viewBox="0 0 20 20" fill="none">
                                <circle cx="10" cy="10" r="3" stroke="currentColor" stroke-width="1.5"/>
                                <path d="M10 2V4M10 16V18M18 10H16M4 10H2M15.5 4.5L14 6M6 14L4.5 15.5M15.5 15.5L14 14M6 6L4.5 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                            </svg>
                            <span>Company Settings</span>
                        </a>
                        <a href="admin-dashboard.html" class="dropdown-item">
                            <svg viewBox="0 0 20 20" fill="none">
                                <rect x="2" y="2" width="6" height="6" rx="1" stroke="currentColor" stroke-width="1.5"/>
                                <rect x="11" y="2" width="6" height="6" rx="1" stroke="currentColor" stroke-width="1.5"/>
                                <rect x="2" y="11" width="6" height="6" rx="1" stroke="currentColor" stroke-width="1.5"/>
                                <rect x="11" y="11" width="6" height="6" rx="1" stroke="currentColor" stroke-width="1.5"/>
                            </svg>
                            <span>Dashboard</span>
                        </a>
                        <div class="dropdown-divider"></div>
                        <a href="#" class="dropdown-item danger" onclick="handleLogout(event)">
                            <svg viewBox="0 0 20 20" fill="none">
                                <path d="M13 6L18 10L13 14M18 10H8M8 2H5C3.89543 2 3 2.89543 3 4V16C3 17.1046 3.89543 18 5 18H8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                            </svg>
                            <span>Logout</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Sidebar Overlay for Mobile -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Left Sidebar -->
        <aside class="sidebar">
            <nav class="sidebar-nav">
                <a href="#dashboard" class="nav-item">
                    <svg class="nav-icon" width="22" height="22" viewBox="0 0 22 22" fill="none">
                        <rect x="3" y="3" width="7" height="7" rx="2" stroke="currentColor" stroke-width="1.5"/>
                        <rect x="3" y="12" width="7" height="7" rx="2" stroke="currentColor" stroke-width="1.5"/>
                        <rect x="12" y="3" width="7" height="7" rx="2" stroke="currentColor" stroke-width="1.5"/>
                        <rect x="12" y="12" width="7" height="7" rx="2" stroke="currentColor" stroke-width="1.5"/>
                    </svg>
                    <span class="nav-text">Dashboard</span>
                </a>
                
                <a href="#generate-bill" class="nav-item active">
                    <svg class="nav-icon" width="22" height="22" viewBox="0 0 22 22" fill="none">
                        <path d="M7 3L5 5V19L7 21H15L17 19V5L15 3H7Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                        <path d="M8 8H14M8 11H14M8 14H11" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                        <circle cx="16" cy="7" r="3" fill="currentColor"/>
                    </svg>
                    <span class="nav-text">Generate Bill</span>
                    <span class="nav-badge">New</span>
                </a>
                
                <a href="payment-history.html" class="nav-item">
                    <svg class="nav-icon" width="22" height="22" viewBox="0 0 22 22" fill="none">
                        <rect x="3" y="6" width="16" height="12" rx="2" stroke="currentColor" stroke-width="1.5"/>
                        <path d="M7 6V5C7 3.89543 7.89543 3 9 3H13C14.1046 3 15 3.89543 15 5V6" stroke="currentColor" stroke-width="1.5"/>
                        <circle cx="11" cy="12" r="2" stroke="currentColor" stroke-width="1.5"/>
                    </svg>
                    <span class="nav-text">Payment History</span>
                </a>
                
                <a href="tenant-details.html" class="nav-item">
                    <svg class="nav-icon" width="22" height="22" viewBox="0 0 22 22" fill="none">
                        <circle cx="11" cy="7" r="3" stroke="currentColor" stroke-width="1.5"/>
                        <path d="M6 19C6 16 8 14 11 14C14 14 16 16 16 19" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                        <circle cx="16" cy="6" r="2" stroke="currentColor" stroke-width="1.5"/>
                        <circle cx="6" cy="6" r="2" stroke="currentColor" stroke-width="1.5"/>
                    </svg>
                    <span class="nav-text">Tenant Details</span>
                </a>
                
                <a href="settings.html" class="nav-item">
                    <svg class="nav-icon" width="22" height="22" viewBox="0 0 22 22" fill="none">
                        <circle cx="11" cy="11" r="3" stroke="currentColor" stroke-width="1.5"/>
                        <path d="M11 3V5M11 17V19M19 11H17M5 11H3M16.5 5.5L15 7M7 15L5.5 16.5M16.5 16.5L15 15M7 7L5.5 5.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                    </svg>
                    <span class="nav-text">Settings</span>
                </a>
                
                <div class="sidebar-divider"></div>
                
                <a href="#logout" class="nav-item nav-item-logout">
                    <svg class="nav-icon" width="22" height="22" viewBox="0 0 22 22" fill="none">
                        <path d="M9 19H5C3.89543 19 3 18.1046 3 17V5C3 3.89543 3.89543 3 5 3H9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                        <path d="M15 15L19 11L15 7" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M19 11H9" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                    </svg>
                    <span class="nav-text">Logout</span>
                </a>
            </nav>
        </aside>

        <!-- Main Dashboard Content -->
        <main class="dashboard-content">
            <!-- Welcome Header -->
            <div class="welcome-header">
                <div class="welcome-text">
                    <h1 class="welcome-title">Welcome back to BillFlow! ðŸ‘‹</h1>
                    <p class="welcome-subtitle">Manage your billing and tenants effortlessly</p>
                </div>
                <div class="header-actions">
                    <button class="btn-quick-action">
                        <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                            <path d="M10 4V16M4 10H16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        Quick Action
                    </button>
                </div>
            </div>

            <!-- Quick Action Cards -->
            <div class="quick-actions-grid">
                <div class="action-card action-card-primary">
                    <div class="action-card-icon">
                        <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
                            <path d="M10 4L8 6V28L10 30H22L24 28V6L22 4H10Z" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            <path d="M12 10H20M12 15H20M12 20H17" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </div>
                    <div class="action-card-content">
                        <h3 class="action-card-title">Generate Bill</h3>
                        <p class="action-card-description">Create new bills for tenants instantly</p>
                    </div>
                    <div class="action-card-arrow">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                </div>

                <div class="action-card">
                    <div class="action-card-icon action-icon-secondary">
                        <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
                            <circle cx="16" cy="12" r="5" stroke="currentColor" stroke-width="2"/>
                            <path d="M8 28C8 24 11 20 16 20C21 20 24 24 24 28" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </div>
                    <div class="action-card-content">
                        <h3 class="action-card-title">View Tenants</h3>
                        <p class="action-card-description">Manage tenant information</p>
                    </div>
                    <div class="action-card-arrow">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                </div>

                <div class="action-card">
                    <div class="action-card-icon action-icon-tertiary">
                        <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
                            <circle cx="16" cy="16" r="11" stroke="currentColor" stroke-width="2"/>
                            <path d="M16 10V18M12 14C12 13 13 12 14 12H18C19 12 20 13 20 14C20 15 19 16 18 16H14C13 16 12 17 12 18C12 19 13 20 14 20H18C19 20 20 19 20 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                    </div>
                    <div class="action-card-content">
                        <h3 class="action-card-title">Payment Status</h3>
                        <p class="action-card-description">Track all payment activities</p>
                    </div>
                    <div class="action-card-arrow">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                </div>

                <div class="action-card">
                    <div class="action-card-icon action-icon-quaternary">
                        <svg width="32" height="32" viewBox="0 0 32 32" fill="none">
                            <path d="M4 6H28M4 16H28M4 26H20" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                            <circle cx="26" cy="26" r="4" stroke="currentColor" stroke-width="2"/>
                        </svg>
                    </div>
                    <div class="action-card-content">
                        <h3 class="action-card-title">Recent Activities</h3>
                        <p class="action-card-description">View latest system updates</p>
                    </div>
                    <div class="action-card-arrow">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                            <path d="M9 18L15 12L9 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                </div>
            </div>

            <!-- Analytics Section -->
            <div class="analytics-section">
                <h2 class="section-title">Analytics Overview</h2>
                
                <div class="analytics-grid">
                    <!-- Monthly Bills Generated -->
                    <div class="analytics-card">
                        <div class="analytics-header">
                            <div>
                                <h3 class="analytics-title">Monthly Bills</h3>
                                <p class="analytics-subtitle">Generated this month</p>
                            </div>
                            <div class="analytics-icon analytics-icon-blue">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                    <path d="M8 3L6 5V21L8 23H16L18 21V5L16 3H8Z" stroke="currentColor" stroke-width="2"/>
                                    <path d="M9 8H15M9 12H15M9 16H12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                </svg>
                            </div>
                        </div>
                        <div class="analytics-value">0</div>
                        <div class="analytics-chart">
                            <div class="bar-chart">
                                <div class="bar" style="height: 60%"></div>
                                <div class="bar" style="height: 75%"></div>
                                <div class="bar" style="height: 50%"></div>
                                <div class="bar" style="height: 85%"></div>
                                <div class="bar" style="height: 70%"></div>
                                <div class="bar" style="height: 90%"></div>
                                <div class="bar" style="height: 100%"></div>
                            </div>
                        </div>
                        <div class="analytics-footer">
                            <span class="analytics-trend analytics-trend-up">
                                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                    <path d="M12 6L8 10L4 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" transform="rotate(180 8 8)"/>
                                </svg>
                                12.5% increase
                            </span>
                        </div>
                    </div>

                    <!-- Paid vs Pending Bills -->
                    <div class="analytics-card">
                        <div class="analytics-header">
                            <div>
                                <h3 class="analytics-title">Payment Status</h3>
                                <p class="analytics-subtitle">Paid vs Pending</p>
                            </div>
                            <div class="analytics-icon analytics-icon-green">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                    <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2"/>
                                    <path d="M8 12L11 15L16 9" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                </svg>
                            </div>
                        </div>
                        <div class="analytics-value">â‚¹0</div>
                        <div class="analytics-chart">
                            <div class="donut-chart">
                                <svg viewBox="0 0 100 100" class="donut-svg">
                                    <circle cx="50" cy="50" r="40" fill="none" stroke="#e5e7eb" stroke-width="12"/>
                                    <circle cx="50" cy="50" r="40" fill="none" stroke="url(#gradient1)" stroke-width="12" 
                                            stroke-dasharray="188.4" stroke-dashoffset="47.1" 
                                            transform="rotate(-90 50 50)"/>
                                    <defs>
                                        <linearGradient id="gradient1" x1="0%" y1="0%" x2="100%" y2="100%">
                                            <stop offset="0%" style="stop-color:#10b981"/>
                                            <stop offset="100%" style="stop-color:#059669"/>
                                        </linearGradient>
                                    </defs>
                                </svg>
                                <div class="donut-center">75%</div>
                            </div>
                        </div>
                        <div class="analytics-footer">
                            <div class="legend-item">
                                <span class="legend-dot" style="background: linear-gradient(135deg, #10b981, #059669)"></span>
                                <span class="legend-text">Paid: â‚¹65.6K</span>
                            </div>
                            <div class="legend-item">
                                <span class="legend-dot" style="background: #e5e7eb"></span>
                                <span class="legend-text">Pending: â‚¹21.9K</span>
                            </div>
                        </div>
                    </div>

                    <!-- Total Tenants -->
                    <div class="analytics-card">
                        <div class="analytics-header">
                            <div>
                                <h3 class="analytics-title">Total Tenants</h3>
                                <p class="analytics-subtitle">Active tenants</p>
                            </div>
                            <div class="analytics-icon analytics-icon-purple">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                                    <circle cx="12" cy="9" r="4" stroke="currentColor" stroke-width="2"/>
                                    <path d="M6 21C6 18 8.5 15 12 15C15.5 15 18 18 18 21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                </svg>
                            </div>
                        </div>
                        <div class="analytics-value">0</div>
                        <div class="analytics-footer">
                            <div class="line-chart">
                                <svg viewBox="0 0 200 80" class="line-svg">
                                    <defs>
                                        <linearGradient id="lineGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                            <stop offset="0%" style="stop-color:#667eea"/>
                                            <stop offset="100%" style="stop-color:#764ba2"/>
                                        </linearGradient>
                                    </defs>
                                    <path d="M 0 60 L 28 50 L 57 55 L 85 40 L 114 45 L 142 30 L 171 35 L 200 20" 
                                          fill="none" stroke="url(#lineGradient)" stroke-width="3" stroke-linecap="round"/>
                                    <circle cx="0" cy="60" r="4" fill="#667eea"/>
                                    <circle cx="28" cy="50" r="4" fill="#667eea"/>
                                    <circle cx="57" cy="55" r="4" fill="#667eea"/>
                                    <circle cx="85" cy="40" r="4" fill="#667eea"/>
                                    <circle cx="114" cy="45" r="4" fill="#667eea"/>
                                    <circle cx="142" cy="30" r="4" fill="#764ba2"/>
                                    <circle cx="171" cy="35" r="4" fill="#764ba2"/>
                                    <circle cx="200" cy="20" r="4" fill="#764ba2"/>
                                </svg>
                            </div>
                        </div>
                        <div class="analytics-footer">
                            <span class="analytics-trend analytics-trend-up">
                                <svg width="16" height="16" viewBox="0 0 16 16" fill="none">
                                    <path d="M12 6L8 10L4 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" transform="rotate(180 8 8)"/>
                                </svg>
                                8 new this month
                            </span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Recent Activities Table -->
            <div class="recent-section">
                <div class="section-header">
                    <h2 class="section-title">Recent Activities</h2>
                    <a href="recent-activities.html" class="view-all-link">View All â†’</a>
                </div>
                
                <div class="activities-card">
                    <!-- Activities will be loaded dynamically by JavaScript -->
                </div>
            </div>
        </main>
    </div>

    <script src="notification-system.js"></script>
    <script src="navbar-dropdown.js"></script>
    <script src="api-connector.js"></script>
    <script src="dashboard-script.js"></script>
</body>
</html>
